<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee   http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">
 <distributable/>
 <context-param>
  <param-name>webAppRootKey</param-name>
  <param-value>unicrm.root</param-value>
 </context-param>
 <context-param>
  <param-name>log4jConfigLocation</param-name>
  <param-value>/WEB-INF/classes/log4j.properties</param-value>
 </context-param>
 <!-- 配置Spring上下文 -->
 <context-param>
  <param-name>contextConfigLocation</param-name>
  <param-value>classpath:config/spring/applicationContext*.xml,</param-value>
 </context-param>
 <filter>
  <filter-name>PtnFilter</filter-name>
  <filter-class>com.sail.cot.filter.PtnWebFilter</filter-class>
 </filter>
 <!-- 配置编码格式过滤信息 -->
 <filter>
  <filter-name>EncodeingFilter</filter-name>
  <filter-class>com.sail.cot.common.filter.EncodeingFilter</filter-class>
  <init-param>
   <description>是否配置编码过滤器</description>
   <param-name>useEncoding</param-name>
   <param-value>true</param-value>
  </init-param>
  <init-param>
   <description>配置使用的编码格式</description>
   <param-name>encoding</param-name>
   <param-value>UTF-8</param-value>
  </init-param>
 </filter>
 <filter>
  <filter-name>hibernateFilter</filter-name>
  <filter-class>org.springframework.orm.hibernate3.support.OpenSessionInViewFilter</filter-class>
 </filter>
 <filter>
  <filter-name>struts2</filter-name>
  <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>
 </filter>
 <filter-mapping>
  <filter-name>PtnFilter</filter-name>
  <url-pattern>*.do</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>EncodeingFilter</filter-name>
  <url-pattern>*.do</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>hibernateFilter</filter-name>
  <url-pattern>/dwr/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>struts2</filter-name>
  <url-pattern>*.do</url-pattern>
 </filter-mapping>
 <listener>
  <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
 </listener>
 <listener>
  <listener-class>com.jason.core.web.listener.DefaultApplicationSetupListener</listener-class>
 </listener>
 <listener>
  <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
 </listener>
 <!-- 配置DWR信息 -->
 <servlet>
  <servlet-name>dwr-invoker</servlet-name>
  <servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>
  <init-param>
   <param-name>config-common</param-name>
   <param-value>/WEB-INF/classes/config/dwr/dwr-base.xml,
				/WEB-INF/classes/config/dwr/dwr-common.xml,
				/WEB-INF/classes/config/dwr/dwr-popedom.xml,
				/WEB-INF/classes/config/dwr/dwr-mail.xml,
				/WEB-INF/classes/config/dwr/dwr-domain.xml,
				/WEB-INF/classes/config/dwr/dwr-module.xml,
				/WEB-INF/classes/config/dwr/dwr-statistics.xml,
				/WEB-INF/classes/config/dwr/dwr-importpic.xml,
				/WEB-INF/classes/config/dwr/dwr-contact.xml,
				/WEB-INF/classes/config/dwr/dwr-fax.xml,
				/WEB-INF/classes/config/dwr/dwr-sms.xml,
				/WEB-INF/classes/config/dwr/dwr-filesystem.xml,
				/WEB-INF/classes/config/dwr/dwr-seq.xml</param-value>
  </init-param>
  <init-param>
   <param-name>debug</param-name>
   <param-value>true</param-value>
  </init-param>
  <init-param>
   <param-name>crossDomainSessionSecurity</param-name>
   <param-value>false</param-value>
  </init-param>
 </servlet>
 <servlet>
  <servlet-name>ShowPicServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.ShowPicServlet</servlet-class>
 </servlet>
 <!-- 上传 -->
 <servlet>
  <servlet-name>UploadServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.UploadServlet</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>AppletServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.AppletServlet</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>DownServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.DownServlet</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>DownMailFileServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.DownMailFileServlet</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>ProxyServlet</servlet-name>
  <servlet-class>com.sail.cot.servlet.ProxyServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>dwr-invoker</servlet-name>
  <url-pattern>/dwr/*</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>ShowPicServlet</servlet-name>
  <url-pattern>/servlet/ShowPicServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>UploadServlet</servlet-name>
  <url-pattern>/servlet/UploadServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>AppletServlet</servlet-name>
  <url-pattern>/servlet/AppletServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>DownServlet</servlet-name>
  <url-pattern>/servlet/DownServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>DownMailFileServlet</servlet-name>
  <url-pattern>/downLoadMailFile.down</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>ProxyServlet</servlet-name>
  <url-pattern>/servlet/ProxyServlet</url-pattern>
 </servlet-mapping>
 
 <servlet>
	<servlet-name>DownloadServlet</servlet-name>
	<servlet-class>
		com.sail.cot.servlet.DownloadServlet
	</servlet-class>
</servlet>
<servlet-mapping>
	<servlet-name>DownloadServlet</servlet-name>
	<url-pattern>/servlet/DownloadServlet</url-pattern>
</servlet-mapping>

 <servlet>
	<servlet-name>DownCustServlet</servlet-name>
	<servlet-class>
		com.sail.cot.servlet.DownCustServlet
	</servlet-class>
</servlet>
<servlet-mapping>
	<servlet-name>DownCustServlet</servlet-name>
	<url-pattern>/servlet/DownCustServlet</url-pattern>
</servlet-mapping>

<servlet>
		<servlet-name>DownFileSystemAllFileServlet</servlet-name>
		<servlet-class>
			com.sail.cot.servlet.DownFileSystemAllFileServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>DownFileSystemAllFileServlet</servlet-name>
		<url-pattern>/servlet/DownFileSystemAllFileServlet</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>ShowLocalFileServlet</servlet-name>
		<servlet-class>
			com.sail.cot.servlet.ShowLocalFileServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
	  <servlet-name>ShowLocalFileServlet</servlet-name>
	  <url-pattern>/servlet/ShowLocalFileServlet</url-pattern>
	 </servlet-mapping>
	<servlet>
		<servlet-name>deleteLocalFileServlet</servlet-name>
		<servlet-class>
			com.sail.cot.servlet.deleteLocalFileServlet
		</servlet-class>
	</servlet>
	<servlet-mapping>
	  <servlet-name>deleteLocalFileServlet</servlet-name>
	  <url-pattern>/servlet/deleteLocalFileServlet</url-pattern>
	 </servlet-mapping>
<listener>
	<listener-class>
		com.sail.cot.listener.LoginOutListener
	</listener-class>
</listener>
<servlet>
		<servlet-name>OnlineServlet</servlet-name>
		<servlet-class>
			com.sail.cot.servlet.OnlineServlet
		</servlet-class>
	</servlet>
 <servlet-mapping>
	<servlet-name>OnlineServlet</servlet-name>
	<url-pattern>/servlet/OnlineServlet</url-pattern>
</servlet-mapping>
 <!-- session过期时间 12个小时 -->
 <session-config>
  <session-timeout>720</session-timeout>
 </session-config>
 <welcome-file-list>
  <welcome-file>index.jsp</welcome-file>
 </welcome-file-list>
 <login-config>
  <auth-method>BASIC</auth-method>
 </login-config>
 
 <!--Comet4J配置 
<listener>
	<description>Comet4J容器侦听</description>
	<listener-class>org.comet4j.core.CometAppListener</listener-class>
</listener>
<listener>
	<description>Comet4J容器侦听</description>
	<listener-class>com.sail.cot.listener.CometListener</listener-class>
</listener>
<servlet>
	<description>Comet连接[默认:org.comet4j.core.CometServletTomcat7]</description>
	<display-name>CometServlet</display-name>
	<servlet-name>CometServlet</servlet-name>
	<servlet-class>org.comet4j.core.CometServletTomcat6</servlet-class>
</servlet>
<servlet-mapping>
	<servlet-name>CometServlet</servlet-name>
	<url-pattern>/conn</url-pattern>
</servlet-mapping>-->
</web-app>
